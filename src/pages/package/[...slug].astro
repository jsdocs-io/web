---
import { SEO } from "astro-seo";
import { packagePageHandler } from "../../../lib/package-page-handler";
import PackagePageAlerts from "../../components/PackagePageAlerts.astro";
import PackagePageArticle from "../../components/PackagePageArticle.astro";
import BaseLayout from "../../layouts/BaseLayout.astro";

export const prerender = false;

const { slug } = Astro.params;
const handlerResult = await packagePageHandler(slug);
if (handlerResult instanceof Response) {
	return handlerResult;
}
const props = handlerResult;
const { pkgId } = props;
---

<BaseLayout>
	<SEO
		slot="head"
		title={`${pkgId} - jsDocs.io`}
		description={`Documentation for npm package ${pkgId} on jsDocs.io`}
	/>

	<PackagePageAlerts {...props} />
	<PackagePageArticle {...props} />
</BaseLayout>

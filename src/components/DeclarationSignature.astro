---
import type { AllExtractedDeclaration } from "@jsdocs-io/extractor";
import { declarationSignatureHtml } from "../../lib/declaration-signature-html";
import type { DeclarationUrlFn } from "../../lib/declaration-url";

type Props = {
	declaration: AllExtractedDeclaration;
	declarationUrl: DeclarationUrlFn;
};

const { declaration, declarationUrl } = Astro.props;
const signatureHtml =
	declaration.signature.length <= 2000 ?
		declarationSignatureHtml(declaration, declarationUrl)
	:	undefined;
---

{
	signatureHtml ?
		<Fragment set:html={signatureHtml} />
	:	<>
			{/* prettier-ignore */}
			<pre class="shiki" style="background-color:#f7f7f7;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8" tabindex="0"><code>{declaration.signature}</code></pre>
		</>
}
